{% extends "base.html" %}

{% block banner_slim %}
{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages %}
<div class="banner-slim row">
    <div class="banner-slim-text col offset-m1">
        <h2 class="white-text">{{ message }}</h2>
    </div>
</div>
{% endfor %}
{% else %}
<div class="banner-slim row">
    <div class="banner-slim-text col offset-m1">
        <h2 class="white-text">{{ recipes.name }}</h2>
    </div>
</div>
{% endif %}
{% endwith %}
{% endblock %}

{% block content %}

<div class="row">
    <div class="card recipe-card">
        <div class="col s12 m5 align-left ">
            <div class="white-border">
                <h3 class="white-text">{{ recipes.name }}</h3>
                <span class="created_by white-text">by {{ recipes.created_by }}</span>
            </div>
            <p class="white-text"> {% for desc in recipes.description %}{{ desc }} {% endfor %}</p>
            <p class="created_by white-text">Last edited: {{ recipes.day }}</p>
            <div class="white-border">
                <h3 class="white-text">Method</h3>
            </div>
            {% for instruction in recipes.method %}
            <!-- Removes unwanted added li components -->
                {% if instruction == " " %}
                {% else %}
                <li class="white-text left-align">{{ instruction }}</li>
                {% endif %}
            {% endfor %}
            </div>
        <div class="col m6 offset-m1 center-align s12 ">
            <h4 class="white-text left-align">Ingredients</h4>
            <ul>
                {% for item in recipes.ingredients %}
                    <li class="white-text left-align">{{ item }}</li>
                {% endfor %}
            </ul>
            <a href="{{ url_for('add_recipe') }}" class="btn">Create recipe</a>
        </div>
        <div style="clear:both"></div>
    </div>
</div>


{% endblock %}